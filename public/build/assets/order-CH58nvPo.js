import{a as xe,c as Y,r as G,j as t,t as _e,H as ke,T as Oe}from"./app-XxGQqHEn.js";import{b as de,H as De,A as Pe}from"./app-layout-CPmwDeKB.js";import{B as E}from"./button-Bl64q_Yk.js";import{c as Te,T as Fe}from"./react-B9WKm0wh.js";import{I as se}from"./input-BJMzkf2c.js";import{B as be}from"./badge-BHeNVAji.js";import{T as Ie,S as Ae,X as Me,F as re,M as $e}from"./x-CTpenCwg.js";import{M as we}from"./minus-BIyH3tRZ.js";import{P as je}from"./plus-DIkrfwwE.js";import{L as ve}from"./loader-circle-D76T6EdY.js";import{S as Le}from"./search-CT3nxiHW.js";import{c as me}from"./createLucideIcon-B9VDQ0kY.js";import{A as ye}from"./arrow-right-B3dycco8.js";import{L as U}from"./label-BqEw-DfN.js";import{C as oe}from"./circle-check-big-B8rD91MQ.js";import{D as Re}from"./download-BUcRGikK.js";import{C as He}from"./users-BhW82ob4.js";import{A as Ce}from"./arrow-left-5_xDRvaF.js";import{b as he,e as K,a as Ee,c as W,T as qe,d as ze}from"./table-CkgMGDrt.js";import{c as Ue,b as Be,d as Qe,e as Ve,a as Ge,D as Je}from"./dialog-C34YEPG_.js";import{E as Ke}from"./eye-DE1ZWiW3.js";/* empty css            */import"./Combination-DsTawVx1.js";import"./index-CjOQgEXZ.js";import"./index-EBLA1b0H.js";const Ye=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Xe=me("house",Ye);const We=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ge=me("shopping-cart",We);const Ze=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Se=me("truck",Ze);const et=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ue=me("upload",et),Ne={BASE_URL:"/build/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_NAME:"Laravel"},ae=new Map,ce=e=>{const s=ae.get(e);return s?Object.fromEntries(Object.entries(s.stores).map(([l,r])=>[l,r.getState()])):{}},tt=(e,s,l)=>{if(e===void 0)return{type:"untracked",connection:s.connect(l)};const r=ae.get(l.name);if(r)return{type:"tracked",store:e,...r};const a={connection:s.connect(l),stores:{}};return ae.set(l.name,a),{type:"tracked",store:e,...a}},st=(e,s)=>{if(s===void 0)return;const l=ae.get(e);l&&(delete l.stores[s],Object.keys(l.stores).length===0&&ae.delete(e))},lt=e=>{var s,l;if(!e)return;const r=e.split(`
`),a=r.findIndex(f=>f.includes("api.setState"));if(a<0)return;const n=((s=r[a+1])==null?void 0:s.trim())||"";return(l=/.+ (.+) .+/.exec(n))==null?void 0:l[1]},rt=(e,s={})=>(l,r,a)=>{const{enabled:n,anonymousActionType:f,store:i,...p}=s;let g;try{g=(n??(Ne?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!g)return e(l,r,a);const{connection:c,...h}=tt(i,g,p);let _=!0;a.setState=((o,y,d)=>{const m=l(o,y);if(!_)return m;const x=d===void 0?{type:f||lt(new Error().stack)||"anonymous"}:typeof d=="string"?{type:d}:d;return i===void 0?(c?.send(x,r()),m):(c?.send({...x,type:`${i}/${x.type}`},{...ce(p.name),[i]:a.getState()}),m)}),a.devtools={cleanup:()=>{c&&typeof c.unsubscribe=="function"&&c.unsubscribe(),st(p.name,i)}};const u=(...o)=>{const y=_;_=!1,l(...o),_=y},v=e(a.setState,r,a);if(h.type==="untracked"?c?.init(v):(h.stores[h.store]=a,c?.init(Object.fromEntries(Object.entries(h.stores).map(([o,y])=>[o,o===h.store?v:y.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let o=!1;const y=a.dispatch;a.dispatch=(...d)=>{(Ne?"production":void 0)!=="production"&&d[0].type==="__setState"&&!o&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),o=!0),y(...d)}}return c.subscribe(o=>{var y;switch(o.type){case"ACTION":if(typeof o.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return fe(o.payload,d=>{if(d.type==="__setState"){if(i===void 0){u(d.state);return}Object.keys(d.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const m=d.state[i];if(m==null)return;JSON.stringify(a.getState())!==JSON.stringify(m)&&u(m);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(d)});case"DISPATCH":switch(o.payload.type){case"RESET":return u(v),i===void 0?c?.init(a.getState()):c?.init(ce(p.name));case"COMMIT":if(i===void 0){c?.init(a.getState());return}return c?.init(ce(p.name));case"ROLLBACK":return fe(o.state,d=>{if(i===void 0){u(d),c?.init(a.getState());return}u(d[i]),c?.init(ce(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return fe(o.state,d=>{if(i===void 0){u(d);return}JSON.stringify(a.getState())!==JSON.stringify(d[i])&&u(d[i])});case"IMPORT_STATE":{const{nextLiftedState:d}=o.payload,m=(y=d.computedStates.slice(-1)[0])==null?void 0:y.state;if(!m)return;u(i===void 0?m:m[i]),c?.send(null,d);return}case"PAUSE_RECORDING":return _=!_}return}}),v},at=rt,fe=(e,s)=>{let l;try{l=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}l!==void 0&&s(l)},le=["products","review","delivery","documents","payment","confirmation"],it=.16,J=Te()(at((e,s)=>({products:[],productsLoading:!1,selectedCategory:null,searchQuery:"",cartItems:[],cartOpen:!1,currentStep:"products",delivery:{method:"pickup"},documents:{},paymentMethod:null,orderNotes:"",isSubmitting:!1,submittedOrder:null,orderHistory:[],ordersLoading:!1,tableParams:{page:1,pageSize:10,search:"",sortColumn:"created_at",sortDirection:"desc"},totalRecords:0,fetchProducts:async()=>{e({productsLoading:!0});try{const l=await xe.get("/taxpayer/orders/products");e({products:l.data,productsLoading:!1})}catch(l){console.error("Failed to fetch products",l),e({products:[],productsLoading:!1})}},setCategory:l=>e({selectedCategory:l}),setSearchQuery:l=>e({searchQuery:l}),addToCart:(l,r,a)=>{const{cartItems:n}=s();if(n.find(i=>i.product.id===l.id))e({cartItems:n.map(i=>i.product.id===l.id?{...i,quantity:i.quantity+r,subtotal:(i.quantity+r)*i.unit_price}:i)});else{const i={product:l,quantity:r,packaging_type:a,unit_price:l.stamp_price_per_unit,subtotal:r*l.stamp_price_per_unit};e({cartItems:[...n,i]})}},removeFromCart:l=>{e({cartItems:s().cartItems.filter(r=>r.product.id!==l)})},updateCartQuantity:(l,r)=>{if(r<=0){s().removeFromCart(l);return}e({cartItems:s().cartItems.map(a=>a.product.id===l?{...a,quantity:r,subtotal:r*a.unit_price}:a)})},updateCartPackaging:(l,r)=>{e({cartItems:s().cartItems.map(a=>a.product.id===l?{...a,packaging_type:r}:a)})},clearCart:()=>e({cartItems:[]}),toggleCart:()=>e({cartOpen:!s().cartOpen}),setCartOpen:l=>e({cartOpen:l}),setStep:l=>e({currentStep:l}),nextStep:()=>{const{currentStep:l}=s(),r=le.indexOf(l);r<le.length-1&&e({currentStep:le[r+1]})},prevStep:()=>{const{currentStep:l}=s(),r=le.indexOf(l);r>0&&e({currentStep:le[r-1]})},setDelivery:l=>e({delivery:{...s().delivery,...l}}),setDocuments:l=>e({documents:{...s().documents,...l}}),setPaymentMethod:l=>e({paymentMethod:l}),setOrderNotes:l=>e({orderNotes:l}),submitOrder:async()=>{const{cartItems:l,delivery:r,paymentMethod:a,orderNotes:n}=s();if(l.length===0)return null;e({isSubmitting:!0});try{const i={items:l.map(c=>({product_id:c.product.id,quantity:c.quantity,packaging_type:c.packaging_type})),delivery_method:r.method,delivery_address:r.address,payment_method:a,order_notes:n},g=(await xe.post("/taxpayer/orders",i)).data.order;return e({isSubmitting:!1,submittedOrder:g,currentStep:"confirmation"}),s().fetchOrderHistory(),g}catch(f){return console.error("Submit order failed",f),e({isSubmitting:!1}),null}},resetOrder:()=>e({cartItems:[],currentStep:"products",delivery:{method:"pickup"},documents:{},paymentMethod:null,orderNotes:"",submittedOrder:null}),setTableParam:(l,r)=>{const{tableParams:a}=s();e({tableParams:{...a,[l]:r}}),s().fetchOrderHistory()},fetchOrderHistory:async()=>{const{tableParams:l}=s();e({ordersLoading:!0});const r={draw:Date.now(),start:(l.page-1)*l.pageSize,length:l.pageSize,search:{value:l.search,regex:!1}};try{const a=await xe.get("/taxpayer/orders/history",{params:r});e({orderHistory:a.data.data,totalRecords:a.data.recordsTotal,ordersLoading:!1})}catch(a){console.error("Failed to fetch order history",a),e({orderHistory:[],totalRecords:0,ordersLoading:!1})}},getCartTotal:()=>s().cartItems.reduce((l,r)=>l+r.subtotal,0),getCartTax:()=>Math.round(s().getCartTotal()*it),getCartGrandTotal:()=>s().getCartTotal()+s().getCartTax(),getFilteredProducts:()=>{const{products:l,selectedCategory:r,searchQuery:a}=s();return l.filter(n=>{const f=!r||n.category===r,i=!a||n.name.toLowerCase().includes(a.toLowerCase())||n.code.toLowerCase().includes(a.toLowerCase());return f&&i&&n.is_active})},getCategories:()=>{const{products:l}=s();return[...new Set(l.map(r=>r.category))]},requiresHealthCertificate:()=>s().cartItems.some(l=>l.product.requires_health_certificate)}),{name:"order-store"})),nt=[{value:"roll",label:"Roll"},{value:"sheet",label:"Sheet"},{value:"individual",label:"Individual"}];function ct(e){const s=Y.c(73),{product:l}=e,[r,a]=G.useState(100),[n,f]=G.useState("roll"),i=J(ht),p=J(xt);let g;s[0]!==i||s[1]!==n||s[2]!==l||s[3]!==r||s[4]!==p?(g=()=>{i(l,r,n),p(!0),_e.success(`${l.name} added to cart`,{description:`${r} ${l.unit_type}(s) at ${l.stamp_price_per_unit} CDF each`})},s[0]=i,s[1]=n,s[2]=l,s[3]=r,s[4]=p,s[5]=g):g=s[5];const c=g;let h;s[6]===Symbol.for("react.memo_cache_sentinel")?(h=()=>a(mt),s[6]=h):h=s[6];const _=h;let u;s[7]===Symbol.for("react.memo_cache_sentinel")?(u=()=>a(dt),s[7]=u):u=s[7];const v=u,o=ot;let y,d;s[8]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("div",{className:"absolute -top-8 -right-8 w-24 h-24 bg-white/5 rounded-full"}),d=t.jsx("div",{className:"absolute -bottom-4 -left-4 w-16 h-16 bg-white/5 rounded-full"}),s[8]=y,s[9]=d):(y=s[8],d=s[9]);let m;s[10]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("div",{className:"bg-white/10 p-3 rounded-xl",children:t.jsx(de,{className:"w-6 h-6 text-white"})}),s[10]=m):m=s[10];let x;s[11]!==l.category?(x=t.jsxs("div",{className:"relative flex items-start justify-between",children:[m,t.jsx(be,{variant:"secondary",className:"bg-white/20 text-white border-0 text-xs",children:l.category})]}),s[11]=l.category,s[12]=x):x=s[12];let w;s[13]!==l.name?(w=t.jsx("h3",{className:"text-lg font-bold text-white",children:l.name}),s[13]=l.name,s[14]=w):w=s[14];let C;s[15]!==l.code?(C=t.jsx("p",{className:"text-xs text-white/70 mt-1",children:l.code}),s[15]=l.code,s[16]=C):C=s[16];let N;s[17]!==w||s[18]!==C?(N=t.jsxs("div",{className:"relative mt-4",children:[w,C]}),s[17]=w,s[18]=C,s[19]=N):N=s[19];let b;s[20]!==N||s[21]!==x?(b=t.jsxs("div",{className:"relative bg-gradient-to-br from-[#003366] to-[#002244] p-4",children:[y,d,x,N]}),s[20]=N,s[21]=x,s[22]=b):b=s[22];let S;s[23]!==l.description?(S=l.description&&t.jsx("p",{className:"text-sm text-slate-500 line-clamp-2",children:l.description}),s[23]=l.description,s[24]=S):S=s[24];let P;s[25]!==l.requires_health_certificate?(P=l.requires_health_certificate?t.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 px-3 py-2 rounded-lg",children:[t.jsx(Ie,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs font-medium",children:"Health Certificate Required"})]}):t.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 bg-emerald-50 px-3 py-2 rounded-lg",children:[t.jsx(Ae,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs font-medium",children:"No Certificate Required"})]}),s[25]=l.requires_health_certificate,s[26]=P):P=s[26];let k;s[27]!==l.stamp_price_per_unit?(k=o(l.stamp_price_per_unit),s[27]=l.stamp_price_per_unit,s[28]=k):k=s[28];let D;s[29]!==k?(D=t.jsx("span",{className:"text-2xl font-bold text-slate-900",children:k}),s[29]=k,s[30]=D):D=s[30];let O;s[31]!==l.unit_type?(O=t.jsxs("span",{className:"text-sm text-slate-500 ml-1",children:["CDF/",l.unit_type]}),s[31]=l.unit_type,s[32]=O):O=s[32];let F;s[33]!==D||s[34]!==O?(F=t.jsx("div",{className:"flex items-baseline justify-between",children:t.jsxs("div",{children:[D,O]})}),s[33]=D,s[34]=O,s[35]=F):F=s[35];let A;s[36]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-2 block",children:"Packaging"}),s[36]=A):A=s[36];let I;s[37]!==n?(I=nt.map(te=>t.jsx("button",{onClick:()=>f(te.value),className:`flex-1 py-2 px-3 text-xs font-medium rounded-lg transition-colors ${n===te.value?"bg-[#003366] text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:te.label},te.value)),s[37]=n,s[38]=I):I=s[38];let M;s[39]!==I?(M=t.jsxs("div",{children:[A,t.jsx("div",{className:"flex gap-2",children:I})]}),s[39]=I,s[40]=M):M=s[40];let H;s[41]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("label",{className:"text-xs font-medium text-slate-500 mb-2 block",children:"Quantity"}),s[41]=H):H=s[41];let $;s[42]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("button",{onClick:v,className:"w-10 h-10 flex items-center justify-center rounded-lg bg-slate-100 text-slate-600 hover:bg-slate-200 transition-colors",children:t.jsx(we,{className:"w-4 h-4"})}),s[42]=$):$=s[42];let L;s[43]===Symbol.for("react.memo_cache_sentinel")?(L=te=>a(Math.max(1,parseInt(te.target.value)||1)),s[43]=L):L=s[43];let R;s[44]!==r?(R=t.jsx("input",{type:"number",value:r,onChange:L,className:"w-full text-center text-lg font-bold text-slate-900 bg-transparent border-b-2 border-slate-200 focus:border-[#003366] outline-none py-1"}),s[44]=r,s[45]=R):R=s[45];let T;s[46]!==l.unit_type?(T=t.jsxs("span",{className:"text-xs text-slate-400",children:[l.unit_type,"(s)"]}),s[46]=l.unit_type,s[47]=T):T=s[47];let q;s[48]!==R||s[49]!==T?(q=t.jsxs("div",{className:"flex-1 text-center",children:[R,T]}),s[48]=R,s[49]=T,s[50]=q):q=s[50];let V;s[51]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("button",{onClick:_,className:"w-10 h-10 flex items-center justify-center rounded-lg bg-slate-100 text-slate-600 hover:bg-slate-200 transition-colors",children:t.jsx(je,{className:"w-4 h-4"})}),s[51]=V):V=s[51];let j;s[52]!==q?(j=t.jsxs("div",{children:[H,t.jsxs("div",{className:"flex items-center gap-3",children:[$,q,V]})]}),s[52]=q,s[53]=j):j=s[53];let B;s[54]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("span",{className:"text-sm text-slate-500",children:"Subtotal"}),s[54]=B):B=s[54];const X=r*l.stamp_price_per_unit;let Q;s[55]!==X?(Q=o(X),s[55]=X,s[56]=Q):Q=s[56];let z;s[57]!==Q?(z=t.jsx("div",{className:"pt-3 border-t border-slate-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[B,t.jsxs("span",{className:"text-lg font-bold text-[#003366]",children:[Q," CDF"]})]})}),s[57]=Q,s[58]=z):z=s[58];let ie;s[59]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(je,{className:"w-4 h-4 mr-2"}),s[59]=ie):ie=s[59];let Z;s[60]!==c?(Z=t.jsxs(E,{onClick:c,className:"w-full bg-gradient-to-r from-[#003366] to-[#0052A3] hover:from-[#002244] hover:to-[#003366] text-white py-3 rounded-xl font-medium transition-all duration-300 group-hover:shadow-lg",children:[ie,"Add to Cart"]}),s[60]=c,s[61]=Z):Z=s[61];let ee;s[62]!==S||s[63]!==P||s[64]!==F||s[65]!==M||s[66]!==j||s[67]!==z||s[68]!==Z?(ee=t.jsxs("div",{className:"p-4 space-y-4",children:[S,P,F,M,j,z,Z]}),s[62]=S,s[63]=P,s[64]=F,s[65]=M,s[66]=j,s[67]=z,s[68]=Z,s[69]=ee):ee=s[69];let ne;return s[70]!==b||s[71]!==ee?(ne=t.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-white border border-slate-200 shadow-sm hover:shadow-lg transition-all duration-300",children:[b,ee]}),s[70]=b,s[71]=ee,s[72]=ne):ne=s[72],ne}function ot(e){return new Intl.NumberFormat("fr-CD",{style:"decimal",minimumFractionDigits:0}).format(e)}function dt(e){return Math.max(100,e-100)}function mt(e){return e+100}function xt(e){return e.setCartOpen}function ht(e){return e.addToCart}function ut(){const e=Y.c(53),{productsLoading:s,selectedCategory:l,searchQuery:r,fetchProducts:a,setCategory:n,setSearchQuery:f,getFilteredProducts:i,getCategories:p}=J();let g,c;e[0]!==a?(g=()=>{a()},c=[a],e[0]=a,e[1]=g,e[2]=c):(g=e[1],c=e[2]),G.useEffect(g,c);let h,_,u,v,o;if(e[3]!==p||e[4]!==i||e[5]!==s||e[6]!==r||e[7]!==l||e[8]!==n||e[9]!==f){h=i();let m,x,w;if(e[15]!==p||e[16]!==r||e[17]!==l||e[18]!==n||e[19]!==f){const C=p();_="space-y-6";let N;e[25]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(Le,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),e[25]=N):N=e[25];let b;e[26]!==f?(b=D=>f(D.target.value),e[26]=f,e[27]=b):b=e[27],e[28]!==r||e[29]!==b?(u=t.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:t.jsxs("div",{className:"relative flex-1",children:[N,t.jsx(se,{type:"text",placeholder:"Search products by name or code...",value:r,onChange:b,className:"pl-10 py-3 bg-white border-slate-200 rounded-xl focus:ring-2 focus:ring-[#003366]/20 focus:border-[#003366]"})]})}),e[28]=r,e[29]=b,e[30]=u):u=e[30],m="flex flex-wrap gap-2";let S;e[31]!==n?(S=()=>n(null),e[31]=n,e[32]=S):S=e[32];const P=`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${l===null?"bg-[#003366] text-white shadow-md":"bg-white text-slate-600 border border-slate-200 hover:border-[#003366] hover:text-[#003366]"}`;e[33]!==S||e[34]!==P?(x=t.jsx("button",{onClick:S,className:P,children:"All Products"}),e[33]=S,e[34]=P,e[35]=x):x=e[35];let k;e[36]!==l||e[37]!==n?(k=D=>t.jsx("button",{onClick:()=>n(D),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${l===D?"bg-[#003366] text-white shadow-md":"bg-white text-slate-600 border border-slate-200 hover:border-[#003366] hover:text-[#003366]"}`,children:D},D),e[36]=l,e[37]=n,e[38]=k):k=e[38],w=C.map(k),e[15]=p,e[16]=r,e[17]=l,e[18]=n,e[19]=f,e[20]=_,e[21]=u,e[22]=m,e[23]=x,e[24]=w}else _=e[20],u=e[21],m=e[22],x=e[23],w=e[24];e[39]!==m||e[40]!==x||e[41]!==w?(v=t.jsxs("div",{className:m,children:[x,w]}),e[39]=m,e[40]=x,e[41]=w,e[42]=v):v=e[42],o=s?t.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[t.jsx(ve,{className:"w-10 h-10 text-[#003366] animate-spin mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading products..."})]}):h.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-16 bg-white rounded-2xl border border-slate-200",children:[t.jsx(de,{className:"w-16 h-16 text-slate-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No Products Found"}),t.jsx("p",{className:"text-slate-500 text-sm",children:r?"Try adjusting your search terms":"No products available in this category"})]}):t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:h.map(ft)}),e[3]=p,e[4]=i,e[5]=s,e[6]=r,e[7]=l,e[8]=n,e[9]=f,e[10]=h,e[11]=_,e[12]=u,e[13]=v,e[14]=o}else h=e[10],_=e[11],u=e[12],v=e[13],o=e[14];let y;e[43]!==h||e[44]!==s||e[45]!==l?(y=!s&&h.length>0&&t.jsxs("div",{className:"text-center text-sm text-slate-500",children:["Showing ",h.length," product",h.length!==1?"s":"",l&&` in ${l}`]}),e[43]=h,e[44]=s,e[45]=l,e[46]=y):y=e[46];let d;return e[47]!==_||e[48]!==u||e[49]!==v||e[50]!==o||e[51]!==y?(d=t.jsxs("div",{className:_,children:[u,v,o,y]}),e[47]=_,e[48]=u,e[49]=v,e[50]=o,e[51]=y,e[52]=d):d=e[52],d}function ft(e){return t.jsx(ct,{product:e},e.id)}function pt(){const e=Y.c(39),{cartItems:s,cartOpen:l,setCartOpen:r,removeFromCart:a,updateCartQuantity:n,clearCart:f,getCartTotal:i,getCartTax:p,getCartGrandTotal:g,setStep:c}=J(),h=bt;let _;e[0]!==r||e[1]!==c?(_=()=>{r(!1),c("review")},e[0]=r,e[1]=c,e[2]=_):_=e[2];const u=_;if(!l)return null;let v;e[3]!==r?(v=t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:()=>r(!1)}),e[3]=r,e[4]=v):v=e[4];let o,y;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx(ge,{className:"w-6 h-6 text-white"}),y=t.jsx("h2",{className:"text-lg font-bold text-white",children:"Your Cart"}),e[5]=o,e[6]=y):(o=e[5],y=e[6]);const d=s.length!==1?"s":"";let m;e[7]!==s.length||e[8]!==d?(m=t.jsxs("div",{className:"flex items-center gap-3",children:[o,t.jsxs("div",{children:[y,t.jsxs("p",{className:"text-sm text-white/70",children:[s.length," item",d]})]})]}),e[7]=s.length,e[8]=d,e[9]=m):m=e[9];let x;e[10]!==r?(x=()=>r(!1),e[10]=r,e[11]=x):x=e[11];let w;e[12]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(Me,{className:"w-5 h-5"}),e[12]=w):w=e[12];let C;e[13]!==x?(C=t.jsx("button",{onClick:x,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition-colors",children:w}),e[13]=x,e[14]=C):C=e[14];let N;e[15]!==m||e[16]!==C?(N=t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 bg-gradient-to-r from-[#003366] to-[#0052A3]",children:[m,C]}),e[15]=m,e[16]=C,e[17]=N):N=e[17];let b;e[18]!==s||e[19]!==a||e[20]!==r||e[21]!==n?(b=s.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[t.jsx(ge,{className:"w-16 h-16 text-slate-300 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Your cart is empty"}),t.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Add some products to get started"}),t.jsx(E,{variant:"outline",onClick:()=>r(!1),className:"border-[#003366] text-[#003366] hover:bg-[#003366] hover:text-white",children:"Browse Products"})]}):s.map(O=>t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-semibold text-slate-900",children:O.product.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[O.product.code," ‚Ä¢ ",O.packaging_type]})]}),t.jsx("button",{onClick:()=>a(O.product.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(Fe,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>n(O.product.id,O.quantity-100),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-white border border-slate-200 text-slate-600 hover:border-[#003366] hover:text-[#003366] transition-colors",children:t.jsx(we,{className:"w-3 h-3"})}),t.jsx("span",{className:"w-16 text-center font-medium text-slate-900",children:O.quantity}),t.jsx("button",{onClick:()=>n(O.product.id,O.quantity+100),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-white border border-slate-200 text-slate-600 hover:border-[#003366] hover:text-[#003366] transition-colors",children:t.jsx(je,{className:"w-3 h-3"})})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-sm text-slate-500",children:[h(O.unit_price)," CDF √ó ",O.quantity]}),t.jsxs("p",{className:"font-bold text-[#003366]",children:[h(O.subtotal)," CDF"]})]})]})]},O.product.id)),e[18]=s,e[19]=a,e[20]=r,e[21]=n,e[22]=b):b=e[22];let S;e[23]!==b?(S=t.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:b}),e[23]=b,e[24]=S):S=e[24];let P;e[25]!==s.length||e[26]!==f||e[27]!==g||e[28]!==p||e[29]!==i||e[30]!==u?(P=s.length>0&&t.jsxs("div",{className:"border-t border-slate-200 p-6 space-y-4 bg-slate-50",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-500",children:"Subtotal"}),t.jsxs("span",{className:"font-medium text-slate-900",children:[h(i())," CDF"]})]}),t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-slate-500",children:"Tax (16% VAT)"}),t.jsxs("span",{className:"font-medium text-slate-900",children:[h(p())," CDF"]})]}),t.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-slate-200",children:[t.jsx("span",{className:"text-slate-900",children:"Grand Total"}),t.jsxs("span",{className:"text-[#003366]",children:[h(g())," CDF"]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(E,{onClick:u,className:"w-full bg-gradient-to-r from-[#003366] to-[#0052A3] hover:from-[#002244] hover:to-[#003366] text-white py-3 rounded-xl font-medium",children:["Proceed to Checkout",t.jsx(ye,{className:"w-4 h-4 ml-2"})]}),t.jsx("button",{onClick:f,className:"w-full py-2 text-sm text-slate-500 hover:text-red-500 transition-colors",children:"Clear Cart"})]})]}),e[25]=s.length,e[26]=f,e[27]=g,e[28]=p,e[29]=i,e[30]=u,e[31]=P):P=e[31];let k;e[32]!==S||e[33]!==P||e[34]!==N?(k=t.jsxs("div",{className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 flex flex-col animate-in slide-in-from-right duration-300",children:[N,S,P]}),e[32]=S,e[33]=P,e[34]=N,e[35]=k):k=e[35];let D;return e[36]!==v||e[37]!==k?(D=t.jsxs(t.Fragment,{children:[v,k]}),e[36]=v,e[37]=k,e[38]=D):D=e[38],D}function bt(e){return new Intl.NumberFormat("fr-CD",{style:"decimal",minimumFractionDigits:0}).format(e)}function jt(){const e=Y.c(31),{cartItems:s,getCartTotal:l,getCartTax:r,getCartGrandTotal:a,requiresHealthCertificate:n}=J(),f=gt;if(s.length===0)return null;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("div",{className:"bg-gradient-to-r from-[#003366] to-[#0052A3] p-4",children:t.jsx("h3",{className:"text-lg font-bold text-white",children:"Order Summary"})}),e[0]=i):i=e[0];let p;if(e[1]!==s){let N;e[3]===Symbol.for("react.memo_cache_sentinel")?(N=b=>t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-0",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-slate-900 truncate",children:b.product.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[b.quantity," √ó ",f(b.unit_price)," CDF"]})]}),t.jsxs("span",{className:"font-semibold text-slate-900 ml-4",children:[f(b.subtotal)," CDF"]})]},b.product.id),e[3]=N):N=e[3],p=s.map(N),e[1]=s,e[2]=p}else p=e[2];let g;e[4]!==p?(g=t.jsx("div",{className:"p-4 space-y-3",children:p}),e[4]=p,e[5]=g):g=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("span",{className:"text-slate-500",children:"Subtotal"}),e[6]=c):c=e[6];let h;e[7]!==l?(h=f(l()),e[7]=l,e[8]=h):h=e[8];let _;e[9]!==h?(_=t.jsxs("div",{className:"flex justify-between text-sm",children:[c,t.jsxs("span",{className:"font-medium text-slate-900",children:[h," CDF"]})]}),e[9]=h,e[10]=_):_=e[10];let u;e[11]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx("span",{className:"text-slate-500",children:"Tax (16% VAT)"}),e[11]=u):u=e[11];let v;e[12]!==r?(v=f(r()),e[12]=r,e[13]=v):v=e[13];let o;e[14]!==v?(o=t.jsxs("div",{className:"flex justify-between text-sm",children:[u,t.jsxs("span",{className:"font-medium text-slate-900",children:[v," CDF"]})]}),e[14]=v,e[15]=o):o=e[15];let y;e[16]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("span",{className:"text-slate-900",children:"Grand Total"}),e[16]=y):y=e[16];let d;e[17]!==a?(d=f(a()),e[17]=a,e[18]=d):d=e[18];let m;e[19]!==d?(m=t.jsxs("div",{className:"flex justify-between text-lg font-bold pt-3 border-t border-slate-200",children:[y,t.jsxs("span",{className:"text-[#003366]",children:[d," CDF"]})]}),e[19]=d,e[20]=m):m=e[20];let x;e[21]!==m||e[22]!==_||e[23]!==o?(x=t.jsxs("div",{className:"p-4 bg-slate-50 space-y-2",children:[_,o,m]}),e[21]=m,e[22]=_,e[23]=o,e[24]=x):x=e[24];let w;e[25]!==n?(w=n()&&t.jsx("div",{className:"p-4 bg-amber-50 border-t border-amber-100",children:t.jsxs("p",{className:"text-sm text-amber-800",children:[t.jsx("span",{className:"font-semibold",children:"Note:"})," One or more products in your order require a valid health certificate."]})}),e[25]=n,e[26]=w):w=e[26];let C;return e[27]!==x||e[28]!==w||e[29]!==g?(C=t.jsxs("div",{className:"rounded-2xl bg-white border border-slate-200 shadow-sm overflow-hidden",children:[i,g,x,w]}),e[27]=x,e[28]=w,e[29]=g,e[30]=C):C=e[30],C}function gt(e){return new Intl.NumberFormat("fr-CD",{style:"decimal",minimumFractionDigits:0}).format(e)}function vt(){const e=Y.c(44),{submittedOrder:s,resetOrder:l}=J(),r=Nt,a=yt;if(!s)return null;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("div",{className:"absolute inset-0 bg-emerald-100 rounded-full animate-ping opacity-25"}),e[0]=n):n=e[0];let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"relative inline-flex items-center justify-center w-24 h-24 mb-6",children:[n,t.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-full flex items-center justify-center shadow-lg",children:t.jsx(oe,{className:"w-10 h-10 text-white"})})]}),t.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Order Submitted!"}),t.jsx("p",{className:"text-slate-500",children:"Your order has been successfully submitted for processing."})]}),e[1]=f):f=e[1];let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Order Number"}),e[2]=i):i=e[2];let p;e[3]!==s.order_number?(p=t.jsxs("div",{className:"bg-gradient-to-r from-[#003366] to-[#0052A3] p-6 text-center",children:[i,t.jsx("p",{className:"text-2xl font-bold text-white tracking-wider",children:s.order_number})]}),e[3]=s.order_number,e[4]=p):p=e[4];let g;e[5]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Status"}),e[5]=g):g=e[5];let c,h;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{children:[g,t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-amber-100 text-amber-700 rounded-full text-sm font-medium",children:[t.jsx(de,{className:"w-4 h-4"}),"Pending Verification"]})]}),h=t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Submitted On"}),e[6]=c,e[7]=h):(c=e[6],h=e[7]);let _;e[8]!==s.created_at?(_=a(s.created_at),e[8]=s.created_at,e[9]=_):_=e[9];let u;e[10]!==_?(u=t.jsxs("div",{children:[h,t.jsx("p",{className:"font-medium text-slate-900",children:_})]}),e[10]=_,e[11]=u):u=e[11];let v;e[12]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Delivery Method"}),e[12]=v):v=e[12];let o;e[13]!==s.delivery_method?(o=t.jsxs("div",{children:[v,t.jsx("p",{className:"font-medium text-slate-900 capitalize",children:s.delivery_method})]}),e[13]=s.delivery_method,e[14]=o):o=e[14];let y;e[15]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Total Amount"}),e[15]=y):y=e[15];let d;e[16]!==s.grand_total?(d=r(s.grand_total),e[16]=s.grand_total,e[17]=d):d=e[17];let m;e[18]!==d?(m=t.jsxs("div",{children:[y,t.jsxs("p",{className:"text-xl font-bold text-[#003366]",children:[d," CDF"]})]}),e[18]=d,e[19]=m):m=e[19];let x;e[20]!==o||e[21]!==m||e[22]!==u?(x=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c,u,o,m]}),e[20]=o,e[21]=m,e[22]=u,e[23]=x):x=e[23];let w;e[24]!==s.delivery_address?(w=s.delivery_address&&t.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[t.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Delivery Address"}),t.jsx("p",{className:"font-medium text-slate-900",children:s.delivery_address})]}),e[24]=s.delivery_address,e[25]=w):w=e[25];let C;e[26]!==x||e[27]!==w?(C=t.jsxs("div",{className:"p-6 space-y-4",children:[x,w]}),e[26]=x,e[27]=w,e[28]=C):C=e[28];let N;e[29]!==C||e[30]!==p?(N=t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden mb-6",children:[p,C]}),e[29]=C,e[30]=p,e[31]=N):N=e[31];let b;e[32]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[t.jsx(ye,{className:"w-5 h-5 text-[#003366]"}),"What Happens Next?"]}),e[32]=b):b=e[32];let S;e[33]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"w-6 h-6 rounded-full bg-[#003366] text-white text-sm font-bold flex items-center justify-center flex-shrink-0",children:"1"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Verification"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Our team will verify your order and documents"})]})]}),e[33]=S):S=e[33];let P;e[34]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"w-6 h-6 rounded-full bg-[#003366] text-white text-sm font-bold flex items-center justify-center flex-shrink-0",children:"2"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Payment"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Complete payment via your selected method"})]})]}),e[34]=P):P=e[34];let k;e[35]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{className:"bg-blue-50 rounded-2xl p-6 mb-6",children:[b,t.jsxs("ol",{className:"space-y-3",children:[S,P,t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"w-6 h-6 rounded-full bg-[#003366] text-white text-sm font-bold flex items-center justify-center flex-shrink-0",children:"3"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Delivery/Pickup"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Receive your stamps at your chosen location"})]})]})]})]}),e[35]=k):k=e[35];let D;e[36]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsxs(E,{variant:"outline",className:"flex-1 border-slate-200 text-slate-700 hover:bg-slate-50",children:[t.jsx(Re,{className:"w-4 h-4 mr-2"}),"Download Receipt"]}),e[36]=D):D=e[36];let O;e[37]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(Xe,{className:"w-4 h-4 mr-2"}),e[37]=O):O=e[37];let F;e[38]!==l?(F=t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[D,t.jsxs(E,{onClick:l,className:"flex-1 bg-gradient-to-r from-[#003366] to-[#0052A3] hover:from-[#002244] hover:to-[#003366] text-white",children:[O,"Place Another Order"]})]}),e[38]=l,e[39]=F):F=e[39];let A;e[40]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs("p",{className:"text-center text-sm text-slate-500 mt-6",children:["Questions about your order?"," ",t.jsx("a",{href:"#",className:"text-[#003366] hover:underline font-medium",children:"Contact Support"})]}),e[40]=A):A=e[40];let I;return e[41]!==N||e[42]!==F?(I=t.jsxs("div",{className:"max-w-2xl mx-auto",children:[f,N,k,F,A]}),e[41]=N,e[42]=F,e[43]=I):I=e[43],I}function yt(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Nt(e){return new Intl.NumberFormat("fr-CD",{style:"decimal",minimumFractionDigits:0}).format(e)}const pe=[{id:"review",label:"Review",icon:de},{id:"delivery",label:"Delivery",icon:Se},{id:"documents",label:"Documents",icon:re},{id:"payment",label:"Payment",icon:He}];function _t(){const e=Y.c(61),{currentStep:s,cartItems:l,delivery:r,paymentMethod:a,isSubmitting:n,setStep:f,nextStep:i,prevStep:p,setDelivery:g,setDocuments:c,setPaymentMethod:h,submitOrder:_,requiresHealthCertificate:u}=J();let v;e[0]===Symbol.for("react.memo_cache_sentinel")?(v={},e[0]=v):v=e[0];const[o,y]=G.useState(v);let d;e[1]!==c?(d=(j,B)=>{y(X=>({...X,[j]:B})),B&&c({[j]:B})},e[1]=c,e[2]=d):d=e[2];const m=d;let x;e[3]!==_?(x=async()=>{const j=await _();j&&_e.success("Order submitted successfully!",{description:`Order ${j.order_number} is now pending verification.`})},e[3]=_,e[4]=x):x=e[4];const w=x;let C;e[5]!==s?(C=()=>pe.findIndex(j=>j.id===s),e[5]=s,e[6]=C):C=e[6];const N=C;let b;e[7]!==l||e[8]!==s||e[9]!==r||e[10]!==a?(b=()=>{switch(s){case"review":return l.length>0;case"delivery":return r.method==="delivery"?!!r.address&&!!r.phone:!0;case"documents":return!0;case"payment":return!!a;default:return!0}},e[7]=l,e[8]=s,e[9]=r,e[10]=a,e[11]=b):b=e[11];const S=b;if(s==="products")return null;if(s==="confirmation"){let j;return e[12]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx(vt,{}),e[12]=j):j=e[12],j}let P;e[13]!==s||e[14]!==N||e[15]!==f?(P=pe.map((j,B)=>{const X=j.icon,Q=j.id===s,z=N()>B;return t.jsxs("div",{className:"flex-1 flex items-center",children:[t.jsxs("button",{onClick:()=>z&&f(j.id),disabled:!z&&!Q,className:`flex flex-col items-center gap-2 p-2 transition-colors ${z?"cursor-pointer":""}`,children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center transition-all ${z?"bg-emerald-500 text-white":Q?"bg-[#003366] text-white shadow-lg":"bg-slate-200 text-slate-400"}`,children:z?t.jsx(oe,{className:"w-6 h-6"}):t.jsx(X,{className:"w-6 h-6"})}),t.jsx("span",{className:`text-sm font-medium ${Q?"text-[#003366]":"text-slate-500"}`,children:j.label})]}),B<pe.length-1&&t.jsx("div",{className:`flex-1 h-1 mx-2 rounded ${z?"bg-emerald-500":"bg-slate-200"}`})]},j.id)}),e[13]=s,e[14]=N,e[15]=f,e[16]=P):P=e[16];let k;e[17]!==P?(k=t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex items-center justify-between",children:P})}),e[17]=P,e[18]=k):k=e[18];let D;e[19]!==l||e[20]!==s?(D=s==="review"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Review Your Order"}),t.jsx("div",{className:"space-y-4",children:l.map(wt)})]}),e[19]=l,e[20]=s,e[21]=D):D=e[21];let O;e[22]!==s||e[23]!==r||e[24]!==g?(O=s==="delivery"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Delivery Details"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[t.jsxs("button",{onClick:()=>g({method:"pickup"}),className:`p-4 rounded-xl border-2 transition-all ${r.method==="pickup"?"border-[#003366] bg-[#003366]/5":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx($e,{className:`w-8 h-8 mx-auto mb-2 ${r.method==="pickup"?"text-[#003366]":"text-slate-400"}`}),t.jsx("p",{className:`font-semibold ${r.method==="pickup"?"text-[#003366]":"text-slate-900"}`,children:"Pickup"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Collect at KBS office"})]}),t.jsxs("button",{onClick:()=>g({method:"delivery"}),className:`p-4 rounded-xl border-2 transition-all ${r.method==="delivery"?"border-[#003366] bg-[#003366]/5":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx(Se,{className:`w-8 h-8 mx-auto mb-2 ${r.method==="delivery"?"text-[#003366]":"text-slate-400"}`}),t.jsx("p",{className:`font-semibold ${r.method==="delivery"?"text-[#003366]":"text-slate-900"}`,children:"Delivery"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Ship to your address"})]})]}),r.method==="delivery"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(U,{htmlFor:"address",children:"Delivery Address *"}),t.jsx(se,{id:"address",value:r.address||"",onChange:j=>g({address:j.target.value}),placeholder:"Enter your full address",className:"mt-1"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(U,{htmlFor:"city",children:"City"}),t.jsx(se,{id:"city",value:r.city||"",onChange:j=>g({city:j.target.value}),placeholder:"City",className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx(U,{htmlFor:"province",children:"Province"}),t.jsx(se,{id:"province",value:r.province||"",onChange:j=>g({province:j.target.value}),placeholder:"Province",className:"mt-1"})]})]}),t.jsxs("div",{children:[t.jsx(U,{htmlFor:"phone",children:"Phone Number *"}),t.jsx(se,{id:"phone",value:r.phone||"",onChange:j=>g({phone:j.target.value}),placeholder:"+243 ...",className:"mt-1"})]}),t.jsxs("div",{children:[t.jsx(U,{htmlFor:"notes",children:"Delivery Notes"}),t.jsx(se,{id:"notes",value:r.notes||"",onChange:j=>g({notes:j.target.value}),placeholder:"Any special instructions...",className:"mt-1"})]})]}),r.method==="pickup"&&t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[t.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Pickup Location"}),t.jsxs("p",{className:"text-sm text-slate-600",children:["KBS Headquarters",t.jsx("br",{}),"Boulevard du 30 Juin",t.jsx("br",{}),"Kinshasa, DR Congo"]}),t.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Mon-Fri: 8:00 AM - 4:00 PM"})]})]}),e[22]=s,e[23]=r,e[24]=g,e[25]=O):O=e[25];let F;e[26]!==s||e[27]!==m||e[28]!==u||e[29]!==o?(F=s==="documents"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Upload Documents"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Upload required documents for verification"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:border-[#003366] transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-slate-100 flex items-center justify-center",children:t.jsx(re,{className:"w-6 h-6 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Import Declaration"}),t.jsx("p",{className:"text-xs text-slate-500",children:"For imported products only"})]}),t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",className:"hidden",onChange:j=>m("import_declaration",j.target.files?.[0]||null),accept:".pdf,.jpg,.png"}),t.jsxs("span",{className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-200 transition-colors inline-flex items-center gap-2",children:[t.jsx(ue,{className:"w-4 h-4"}),o.import_declaration?"Change":"Upload"]})]})]}),o.import_declaration&&t.jsxs("p",{className:"text-xs text-emerald-600 mt-2",children:["‚úì ",o.import_declaration.name]})]}),u()&&t.jsxs("div",{className:"border-2 border-dashed border-amber-200 bg-amber-50 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-amber-100 flex items-center justify-center",children:t.jsx(re,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Health Certificate *"}),t.jsx("p",{className:"text-xs text-amber-700",children:"Required for your selected products"})]}),t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",className:"hidden",onChange:j=>m("health_certificate",j.target.files?.[0]||null),accept:".pdf,.jpg,.png"}),t.jsxs("span",{className:"px-4 py-2 bg-amber-200 text-amber-800 rounded-lg text-sm font-medium hover:bg-amber-300 transition-colors inline-flex items-center gap-2",children:[t.jsx(ue,{className:"w-4 h-4"}),o.health_certificate?"Change":"Upload"]})]})]}),o.health_certificate&&t.jsxs("p",{className:"text-xs text-emerald-600 mt-2",children:["‚úì ",o.health_certificate.name]})]}),t.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:border-[#003366] transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-lg bg-slate-100 flex items-center justify-center",children:t.jsx(re,{className:"w-6 h-6 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-slate-900",children:"Certificate of Conformity"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Product conformity certificate"})]}),t.jsxs("label",{className:"cursor-pointer",children:[t.jsx("input",{type:"file",className:"hidden",onChange:j=>m("certificate_of_conformity",j.target.files?.[0]||null),accept:".pdf,.jpg,.png"}),t.jsxs("span",{className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg text-sm font-medium hover:bg-slate-200 transition-colors inline-flex items-center gap-2",children:[t.jsx(ue,{className:"w-4 h-4"}),o.certificate_of_conformity?"Change":"Upload"]})]})]}),o.certificate_of_conformity&&t.jsxs("p",{className:"text-xs text-emerald-600 mt-2",children:["‚úì ",o.certificate_of_conformity.name]})]})]})]}),e[26]=s,e[27]=m,e[28]=u,e[29]=o,e[30]=F):F=e[30];let A;e[31]!==s||e[32]!==a||e[33]!==h?(A=s==="payment"&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-6",children:"Select Payment Method"}),t.jsx("div",{className:"space-y-4",children:[{id:"mobile_money",label:"Mobile Money",description:"M-Pesa, Airtel Money, Orange Money",icon:"üì±"},{id:"bank_transfer",label:"Bank Transfer",description:"Transfer to KBS bank account",icon:"üè¶"},{id:"cash",label:"Cash Payment",description:"Pay at our office counter",icon:"üíµ"}].map(j=>t.jsxs("button",{onClick:()=>h(j.id),className:`w-full p-4 rounded-xl border-2 text-left transition-all flex items-center gap-4 ${a===j.id?"border-[#003366] bg-[#003366]/5":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx("span",{className:"text-3xl",children:j.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:`font-semibold ${a===j.id?"text-[#003366]":"text-slate-900"}`,children:j.label}),t.jsx("p",{className:"text-sm text-slate-500",children:j.description})]}),a===j.id&&t.jsx(oe,{className:"w-6 h-6 text-[#003366]"})]},j.id))}),a&&t.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("span",{className:"font-semibold",children:"Note:"})," Payment instructions will be sent after order verification."]})})]}),e[31]=s,e[32]=a,e[33]=h,e[34]=A):A=e[34];let I;e[35]!==A||e[36]!==D||e[37]!==O||e[38]!==F?(I=t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6",children:[D,O,F,A]}),e[35]=A,e[36]=D,e[37]=O,e[38]=F,e[39]=I):I=e[39];let M;e[40]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(Ce,{className:"w-4 h-4 mr-2"}),e[40]=M):M=e[40];let H;e[41]!==p?(H=t.jsxs(E,{variant:"outline",onClick:p,className:"border-slate-200",children:[M,"Back"]}),e[41]=p,e[42]=H):H=e[42];let $;e[43]!==S||e[44]!==s||e[45]!==w||e[46]!==n||e[47]!==i?($=s==="payment"?t.jsx(E,{onClick:w,disabled:!S()||n,className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white",children:n?t.jsxs(t.Fragment,{children:[t.jsx(ve,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):t.jsxs(t.Fragment,{children:["Submit Order",t.jsx(oe,{className:"w-4 h-4 ml-2"})]})}):t.jsxs(E,{onClick:i,disabled:!S(),className:"bg-gradient-to-r from-[#003366] to-[#0052A3] hover:from-[#002244] hover:to-[#003366] text-white",children:["Continue",t.jsx(ye,{className:"w-4 h-4 ml-2"})]}),e[43]=S,e[44]=s,e[45]=w,e[46]=n,e[47]=i,e[48]=$):$=e[48];let L;e[49]!==H||e[50]!==$?(L=t.jsxs("div",{className:"flex items-center justify-between mt-6",children:[H,$]}),e[49]=H,e[50]=$,e[51]=L):L=e[51];let R;e[52]!==I||e[53]!==L?(R=t.jsxs("div",{className:"lg:col-span-2",children:[I,L]}),e[52]=I,e[53]=L,e[54]=R):R=e[54];let T;e[55]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("div",{className:"lg:col-span-1",children:t.jsx(jt,{})}),e[55]=T):T=e[55];let q;e[56]!==R?(q=t.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[R,T]}),e[56]=R,e[57]=q):q=e[57];let V;return e[58]!==q||e[59]!==k?(V=t.jsxs("div",{className:"max-w-4xl mx-auto",children:[k,q]}),e[58]=q,e[59]=k,e[60]=V):V=e[60],V}function wt(e){return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-slate-900",children:e.product.name}),t.jsxs("p",{className:"text-sm text-slate-500",children:[e.product.code," ‚Ä¢ ",e.quantity," ",e.product.unit_type,"(s) ‚Ä¢"," ",e.packaging_type]})]}),t.jsxs("span",{className:"font-bold text-[#003366]",children:[new Intl.NumberFormat("fr-CD").format(e.subtotal)," ","CDF"]})]},e.product.id)}function Ct(){const e=Y.c(47),{orderHistory:s,ordersLoading:l,fetchOrderHistory:r,tableParams:a,setTableParam:n,totalRecords:f}=J(),[i,p]=G.useState(null),[g,c]=G.useState(!1);let h,_;e[0]!==r?(h=()=>{r()},_=[r],e[0]=r,e[1]=h,e[2]=_):(h=e[1],_=e[2]),G.useEffect(h,_);const u=kt;let v;e[3]===Symbol.for("react.memo_cache_sentinel")?(v=T=>{p(T),c(!0)},e[3]=v):v=e[3];const o=v,y=St;let d;e[4]!==n?(d=T=>{n("search",T.target.value),n("page",1)},e[4]=n,e[5]=d):d=e[5];const m=d,x=Math.ceil(f/a.pageSize),w=`absolute left-2.5 top-2.5 h-4 w-4 text-slate-500 ${l?"animate-spin":"hidden"}`;let C;e[6]!==w?(C=t.jsx(ve,{className:w}),e[6]=w,e[7]=C):C=e[7];let N;e[8]!==l?(N=!l&&t.jsx("div",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-500",children:"üîç"}),e[8]=l,e[9]=N):N=e[9];let b;e[10]!==m||e[11]!==a.search?(b=t.jsx("input",{type:"text",placeholder:"Search by order number or product...",className:"h-9 w-full rounded-md border border-slate-200 pl-9 pr-4 text-sm outline-none focus:border-[#003366] focus:ring-1 focus:ring-[#003366]",value:a.search,onChange:m}),e[10]=m,e[11]=a.search,e[12]=b):b=e[12];let S;e[13]!==C||e[14]!==N||e[15]!==b?(S=t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"relative max-w-sm flex-1",children:[C,N,b]})}),e[13]=C,e[14]=N,e[15]=b,e[16]=S):S=e[16];let P;e[17]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(Ee,{children:t.jsxs(he,{children:[t.jsx(W,{children:"Order Number"}),t.jsx(W,{children:"Product"}),t.jsx(W,{children:"Quantity"}),t.jsx(W,{children:"Total"}),t.jsx(W,{children:"Status"}),t.jsx(W,{children:"Date"}),t.jsx(W,{className:"text-right",children:"Actions"})]})}),e[17]=P):P=e[17];let k;e[18]!==s||e[19]!==l?(k=s.length===0?t.jsx(he,{children:t.jsx(K,{colSpan:7,className:"h-24 text-center text-slate-500",children:l?"Loading...":"No orders found."})}):s.map(T=>t.jsxs(he,{children:[t.jsx(K,{className:"font-medium text-slate-900",children:T.order_number}),t.jsx(K,{children:T.product?.name||T.product_name||"Unknown Product"}),t.jsx(K,{children:T.quantity.toLocaleString()}),t.jsx(K,{children:u(T.grand_total)}),t.jsx(K,{children:t.jsx(be,{variant:"outline",className:y(T.status),children:T.status.charAt(0).toUpperCase()+T.status.slice(1).replace("_"," ")})}),t.jsx(K,{children:T.created_at}),t.jsx(K,{className:"text-right",children:t.jsx("div",{className:"flex justify-end gap-2",children:t.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-500 hover:text-[#003366]",onClick:()=>o(T),children:[t.jsx(Ke,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"View"})]})})})]},T.id)),e[18]=s,e[19]=l,e[20]=k):k=e[20];let D;e[21]!==k?(D=t.jsx("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:t.jsxs(qe,{children:[P,t.jsx(ze,{children:k})]})}),e[21]=k,e[22]=D):D=e[22];let O;e[23]!==l||e[24]!==n||e[25]!==a.page||e[26]!==a.pageSize||e[27]!==x||e[28]!==f?(O=f>0&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",Math.min((a.page-1)*a.pageSize+1,f)," to ",Math.min(a.page*a.pageSize,f)," of ",f," entries"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(E,{variant:"outline",size:"sm",onClick:()=>n("page",a.page-1),disabled:a.page===1||l,children:[t.jsx("span",{className:"sr-only",children:"Previous"}),"‚Üê"]}),t.jsxs("div",{className:"text-sm font-medium",children:["Page ",a.page," of ",Math.max(1,x)]}),t.jsxs(E,{variant:"outline",size:"sm",onClick:()=>n("page",a.page+1),disabled:a.page>=x||l,children:[t.jsx("span",{className:"sr-only",children:"Next"}),"‚Üí"]})]})]}),e[23]=l,e[24]=n,e[25]=a.page,e[26]=a.pageSize,e[27]=x,e[28]=f,e[29]=O):O=e[29];let F;e[30]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(Ue,{children:"Order Details"}),e[30]=F):F=e[30];const A=i?.order_number;let I;e[31]!==A?(I=t.jsxs(Be,{children:[F,t.jsxs(Qe,{children:["Review complete information for Order #",A]})]}),e[31]=A,e[32]=I):I=e[32];let M;e[33]!==i?(M=i&&t.jsx("div",{className:"grid gap-4 py-4",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx(U,{className:"text-slate-500",children:"Product"}),t.jsx("div",{className:"font-medium",children:i.product?.name||i.product_name})]}),t.jsx("div",{className:"text-right",children:t.jsx(be,{variant:"outline",className:y(i.status),children:i.status.toUpperCase().replace("_"," ")})}),t.jsxs("div",{children:[t.jsx(U,{className:"text-slate-500",children:"Packaging"}),t.jsx("div",{className:"capitalize",children:i.packaging_type})]}),t.jsxs("div",{children:[t.jsx(U,{className:"text-slate-500",children:"Quantity"}),t.jsx("div",{children:i.quantity.toLocaleString()})]}),t.jsxs("div",{children:[t.jsx(U,{className:"text-slate-500",children:"Grand Total"}),t.jsx("div",{className:"font-bold text-lg",children:u(i.grand_total)})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx(U,{className:"text-slate-500",children:"Delivery Address"}),t.jsx("div",{children:i.delivery_method==="pickup"?"Store Pickup":i.delivery_address})]}),t.jsxs("div",{children:[t.jsx(U,{className:"text-slate-500",children:"Payment Method"}),t.jsx("div",{className:"capitalize",children:i.payment_method?.replace("_"," ")})]}),t.jsxs("div",{children:[t.jsx(U,{className:"text-slate-500",children:"Date Placed"}),t.jsx("div",{children:i.created_at})]}),i.rejection_reason&&t.jsxs("div",{className:"col-span-2 bg-red-50 p-3 rounded-md border border-red-100",children:[t.jsx(U,{className:"text-red-600 font-semibold mb-1 block",children:"Rejection Reason"}),t.jsx("div",{className:"text-red-700 text-sm",children:i.rejection_reason})]})]})}),e[33]=i,e[34]=M):M=e[34];let H;e[35]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(Ve,{children:t.jsx(E,{variant:"outline",onClick:()=>c(!1),children:"Close"})}),e[35]=H):H=e[35];let $;e[36]!==I||e[37]!==M?($=t.jsxs(Ge,{className:"sm:max-w-xl",children:[I,M,H]}),e[36]=I,e[37]=M,e[38]=$):$=e[38];let L;e[39]!==g||e[40]!==$?(L=t.jsx(Je,{open:g,onOpenChange:c,children:$}),e[39]=g,e[40]=$,e[41]=L):L=e[41];let R;return e[42]!==D||e[43]!==O||e[44]!==L||e[45]!==S?(R=t.jsxs("div",{className:"space-y-4",children:[S,D,O,L]}),e[42]=D,e[43]=O,e[44]=L,e[45]=S,e[46]=R):R=e[46],R}function St(e){switch(e){case"delivered":return"bg-emerald-100 text-emerald-800 hover:bg-emerald-100 border-emerald-200";case"processing":return"bg-blue-100 text-blue-800 hover:bg-blue-100 border-blue-200";case"pending":case"submitted":return"bg-amber-100 text-amber-800 hover:bg-amber-100 border-amber-200";case"cancelled":case"rejected":return"bg-red-100 text-red-800 hover:bg-red-100 border-red-200";default:return"bg-slate-100 text-slate-800 hover:bg-slate-100 border-slate-200"}}function kt(e){return new Intl.NumberFormat("fr-CD",{style:"currency",currency:"CDF",minimumFractionDigits:0}).format(e)}const Ot=[{title:"Taxpayer Portal",href:"/taxpayer/dashboard"},{title:"Place Order",href:"/taxpayer/order"}];function ss(){const e=Y.c(37),{currentStep:s,cartItems:l,setCartOpen:r,setStep:a,fetchProducts:n,fetchOrderHistory:f,getCartGrandTotal:i}=J(),[p,g]=G.useState(Pt);let c,h;e[0]!==f||e[1]!==n?(c=()=>{n(),f()},h=[n,f],e[0]=f,e[1]=n,e[2]=c,e[3]=h):(c=e[2],h=e[3]),G.useEffect(c,h);const _=Dt,u=s!=="products"&&s!=="confirmation";let v,o;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(ke,{title:"Place Order - Taxpayer Portal"}),o=t.jsx(Oe,{richColors:!0,position:"top-right"}),e[4]=v,e[5]=o):(v=e[4],o=e[5]);let y;e[6]!==u||e[7]!==a?(y=u&&t.jsxs(E,{variant:"ghost",onClick:()=>a("products"),className:"text-slate-500 hover:text-slate-900",children:[t.jsx(Ce,{className:"w-4 h-4 mr-2"}),"Back to Products"]}),e[6]=u,e[7]=a,e[8]=y):y=e[8];const d=s==="products"?"Order Stamps":s==="confirmation"?"Order Complete":"Checkout";let m;e[9]!==d?(m=t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:d}),e[9]=d,e[10]=m):m=e[10];const x=s==="products"?"Browse and add products to your cart":s==="confirmation"?"Your order has been submitted":"Complete your order details";let w;e[11]!==x?(w=t.jsx("p",{className:"text-sm text-slate-500",children:x}),e[11]=x,e[12]=w):w=e[12];let C;e[13]!==m||e[14]!==w?(C=t.jsxs("div",{children:[m,w]}),e[13]=m,e[14]=w,e[15]=C):C=e[15];let N;e[16]!==y||e[17]!==C?(N=t.jsxs("div",{className:"flex items-center gap-4",children:[y,C]}),e[16]=y,e[17]=C,e[18]=N):N=e[18];let b;e[19]!==l||e[20]!==s||e[21]!==i||e[22]!==r||e[23]!==p?(b=s==="products"&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(E,{variant:p==="history"?"default":"outline",className:p==="history"?"bg-[#003366] text-white hover:bg-[#002244]":"border-slate-200 text-slate-600 hover:border-[#003366] hover:text-[#003366]",onClick:()=>g("history"),children:[t.jsx(De,{className:"w-4 h-4 mr-2"}),"Order History"]}),t.jsxs(E,{variant:p==="create"?"default":"outline",className:p==="create"?"bg-[#003366] text-white hover:bg-[#002244]":"border-slate-200 text-slate-600 hover:border-[#003366] hover:text-[#003366]",onClick:()=>g("create"),children:[t.jsx(re,{className:"w-4 h-4 mr-2"}),"New Order"]}),t.jsxs(E,{onClick:()=>r(!0),className:"bg-gradient-to-r from-[#003366] to-[#0052A3] hover:from-[#002244] hover:to-[#003366] text-white relative",children:[t.jsx(ge,{className:"w-4 h-4 mr-2"}),"Cart",l.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded-full text-xs",children:l.length}),t.jsxs("span",{className:"ml-2 hidden sm:inline text-xs opacity-80",children:["(",_(i())," CDF)"]})]})]})]}),e[19]=l,e[20]=s,e[21]=i,e[22]=r,e[23]=p,e[24]=b):b=e[24];let S;e[25]!==N||e[26]!==b?(S=t.jsxs("div",{className:"flex items-center justify-between",children:[N,b]}),e[25]=N,e[26]=b,e[27]=S):S=e[27];let P;e[28]!==s||e[29]!==p?(P=p==="history"?t.jsx(Ct,{}):s==="products"?t.jsx(ut,{}):t.jsx(_t,{}),e[28]=s,e[29]=p,e[30]=P):P=e[30];let k;e[31]!==S||e[32]!==P?(k=t.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6 bg-slate-50",children:[S,P]}),e[31]=S,e[32]=P,e[33]=k):k=e[33];let D;e[34]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(pt,{}),e[34]=D):D=e[34];let O;return e[35]!==k?(O=t.jsxs(Pe,{breadcrumbs:Ot,children:[v,o,k,D]}),e[35]=k,e[36]=O):O=e[36],O}function Dt(e){return new Intl.NumberFormat("fr-CD",{style:"decimal",minimumFractionDigits:0}).format(e)}function Pt(){return typeof window<"u"&&new URLSearchParams(window.location.search).get("view")==="history"?"history":"create"}export{ss as default};
